{"version":3,"sources":["js/api-service.js","index.js"],"names":["ApiService","constructor","page","query","id","fetchTrending","trendingParams","URLSearchParams","api_key","fetch","BASE_URL","then","res","ok","json","Error","fetchQuery","queryParams","include_adult","region","ukraine","year","fetchMovieById","qValue","split","join","idValue","Number","incrementPage","resetPage"],"mappings":";;;AAAgC,aAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EAAA,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,EAAA,EAAA,EAAA,EAAA,QAAA,SAAA,EAAA,EAAA,EAAA,GAAA,IAAA,EAAA,IAAA,GAAA,MAAA,IAAA,UAAA,gBAAA,EAAA,kCAAA,OAAA,EAAA,IAAA,GAAA,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,KAAA,GAAA,EAAA,MAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,IAAA,QAAjB,MAAMA,EAInBC,cAAc,EAAA,IAAA,KAAA,CAAA,UAAA,EAHH,MAAA,qCACA,EAAA,KAAA,WAAA,gCAGJC,KAAAA,KAAO,EACPC,KAAAA,MAAQ,GACRC,KAAAA,GAAK,EAGZC,gBAKQC,MAAAA,EAAiB,IAAIC,gBAAgB,CACzCC,QAAS,EAAA,KADgC,GAEzCN,KAAM,KAAKA,OAGNO,OAAAA,SAAS,KAAKC,gCAAgCJ,KAAkBK,KAAKC,IACtEA,GAAAA,EAAIC,GACCD,OAAAA,EAAIE,OAEP,MAAA,IAAIC,MAAM,0BAIpBC,aACQC,MAAAA,EAAc,IAAIV,gBAAgB,CACtCC,QAAS,EAAA,KAD6B,GAEtCN,KAAM,KAAKA,KACXC,MAAO,KAAKA,MACZe,eAAe,EACfC,OAAQC,QACRC,KAAM,OAGDZ,OAAAA,SAAS,KAAKC,yBAAyBO,KAAeN,KAAKC,IAC5DA,GAAAA,EAAIC,GACCD,OAAAA,EAAIE,OAEP,MAAA,IAAIC,MAAM,0BAIpBO,iBACQL,MAAAA,EAAc,IAAIV,gBAAgB,CACtCC,QAAS,EAAA,KAAF,KAGFC,OAAAA,SAAS,KAAKC,kBAAkB,KAAKN,MAAMa,KAAeN,KAAKC,IAChEA,GAAAA,EAAIC,GACCD,OAAAA,EAAIE,OAEP,MAAA,IAAIC,MAAM,0BAIhBZ,UAAMoB,GACHpB,KAAAA,MAAQoB,EAAOC,MAAM,KAAKC,KAAK,OAGlCrB,OAAGsB,GACAtB,KAAAA,GAAKuB,OAAOD,GAGnBE,gBACO1B,KAAAA,MAAQ,EAGf2B,YACO3B,KAAAA,KAAO,GAxEgB,QAAA,QAAA;;ACChC,aADA,QAAA,oBACA,QAAA","file":"src.fd16003f.js","sourceRoot":"../src","sourcesContent":["export default class ApiService {\n  #API_KEY = '43599aecc4a107996f3426684f8b9f50';\n  BASE_URL = 'https://api.themoviedb.org/3';\n\n  constructor() {\n    this.page = 1;\n    this.query = '';\n    this.id = 0;\n  }\n\n  fetchTrending() {\n    // https://api.themoviedb.org/3/trending/movie/week\n    // https://api.themoviedb.org/3/movie/550?api_key=43599aecc4a107996f3426684f8b9f50\n    // https://api.themoviedb.org/3/search/movie?api_key=43599aecc4a107996f3426684f8b9f50&language=en-US&query=war%20of%20nations&page=1&include_adult=false&region=ukraine&year=2021\n\n    const trendingParams = new URLSearchParams({\n      api_key: this.#API_KEY,\n      page: this.page,\n    });\n\n    return fetch(`${this.BASE_URL}/trending/movie/week?${trendingParams}`).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n      throw new Error('Something went wrong');\n    });\n  }\n\n  fetchQuery() {\n    const queryParams = new URLSearchParams({\n      api_key: this.#API_KEY,\n      page: this.page,\n      query: this.query,\n      include_adult: false,\n      region: ukraine,\n      year: 2021,\n    });\n\n    return fetch(`${this.BASE_URL}/search/movie?${queryParams}`).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n      throw new Error('Something went wrong');\n    });\n  }\n\n  fetchMovieById() {\n    const queryParams = new URLSearchParams({\n      api_key: this.#API_KEY,\n    });\n\n    return fetch(`${this.BASE_URL}/movie/${this.id}?${queryParams}`).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n      throw new Error('Something went wrong');\n    });\n  }\n\n  set query(qValue) {\n    this.query = qValue.split(' ').join('%20');\n  }\n\n  set id(idValue) {\n    this.id = Number(idValue);\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n}\n","import './sass/main.scss';\nimport './js/api-service';\n"]}